<script src="https://kit.fontawesome.com/9082949df5.js" crossorigin="anonymous"></script>

<div class="main-wrap">
  <div class="background-wrap">
    <img class="background" draggable="false" src="https://d25unujvh7ui3r.cloudfront.net/event/NSS_landingpage.jpg"
      alt="" class="">
    <img class="map-img" draggable="false" src="https://d25unujvh7ui3r.cloudfront.net/event/NSS_landingpage.jpg"
      usemap="#image-map">

    <map id="image-map" name="image-map">
      <area class="area-europe" target="" alt="NSS Europe" title="NSS Europe" href="" coords="956,323,1218,496"
        shape="rect">
      <!-- https://www.nanoscientificforum.com/ -->
      <area class="area-china" target="" alt="NSS China" title="NSS China" href="" coords="1249,331,1482,494"
        shape="rect">
      <area class="area-korea" target="" alt="NSS Korea" title="NSS Korea" href="" coords="1333,509,1591,672"
        shape="rect">
      <area class="area-us" target="" alt="NSS US" title="NSS US" href="" coords="687,221,934,366" shape="rect">
      <area class="area-japan" target="" alt="NSS Japan" title="NSS Japan" href="" coords="1607,540,1890,715"
        shape="rect">
      <area class="area-latam" target="" alt="NSS LatAm" title="NSS LatAm" href="" coords="579,390,828,538"
        shape="rect">
      <area class="area-asia" target="" alt="NSS Asia" title="NSS Asia" href="" coords="1309,691,1579,862" shape="rect">
    </map>
  </div>
  <div class="logo-wrap">
    <img class="logo" draggable="false" src="https://d25unujvh7ui3r.cloudfront.net/event/NS_landingpage_logo.svg" alt=""
      class="">
    <div class="desc-wrap">
      <span class="desc desc-1">
        NanoScientific Symposiums are global events that join researchers and experts together to explore ideas and
        foster new relationships. Posters and oral presentations add to the excitement as an opportunity for new
        researchers to showcase their state-of-the art technical presentations.
      </span>
      <span class="desc desc-2">
        NanoScientific and Park Systems are sponsoring global conferences that includes both in person and virtual
        NanoScientific Symposiums, Forums, Live Demos and more.
      </span>
      <span class="desc desc-3">
        We invite you to join the NanoScientific Community by attending, presenting and networking with pioneers in
        nanotechnology innovation at any of our conferences.
      </span>
    </div>
  </div>
  <!-- footer responsive button -->

  <button class="footer-drawer">
    <i class="fas fa-chevron-up"></i>
  </button>
  <footer class="footer-wrap">
    <section class="sponsor-wrap">
      <span class="title">Sponsored by</span>
      <ul class="sponsor-list">
        <li class="sponsor-item" onclick="window.open('https://parksystems.com')">
          <img class="sponsor-img" src="https://d25unujvh7ui3r.cloudfront.net/event/park_logo.png">
        </li>
        <li class="sponsor-item" onclick="window.open('https://nanoscientific.org')">
          <img class="sponsor-img" src="https://d25unujvh7ui3r.cloudfront.net/event/nano_logo.png">
        </li>
      </ul>
    </section>

    <!-- bottom title -->
    <section class="footer-desc-wrap">
      <div class="count">
        <span class="list">
          <h2>60+</h2>
          <p>Sessions in 7 countries</p>
        </span>
      </div>
      <div class="count2">
        <span class="list">
          <h2>55</h2>
          <p>Featured Speakers</p>
        </span>
      </div>
      <div class="count3">
        <span class="list">
          <h5>Ask the <br>Experts</h5>
          <p>Live 1:1 Q&A</p>
        </span>
      </div>
      <div class="count4">
        <span class="list">
          <h5>Hands-on <br>Sessions</h5>
          <p>Park Systems AFMs</p>
        </span>
      </div>
    </section>
  </footer>
</div>

<style>
  /* reset */
  ul {
    list-style: none;
    margin: 0;
  }

  /*  */
  .main-wrap {
    position: relative;
    height: 100vh;
  }

  .background-wrap {
    position: relative;
    width: 100%;
    height: 100%;
    top: -6%;
    margin-left: auto;
  }

  .map-img {
    width: 100%;
    height: 108% !important;
    position: absolute;
    left: 0;
    opacity: 0;
  }

  .logo-wrap {
    position: absolute;
    top: 0%;
    width: 28%;
    margin: 5% 0% 0% 5%;
  }

  .logo {
    width: 28vw;
    min-width: 300px
  }

  .background {
    width: 100%;
    height: 108% !important;
    object-fit: fill;
  }

  .desc-wrap {
    width: 100%;
    margin-top: 25px;
  }

  .desc {
    display: block;
    width: 87%;
    color: #949393;
    font-size: 17px;
    line-height: 1.4;
    font-weight: 500;
    letter-spacing: -1px;
  }

  .desc:not(:last-child) {
    margin-bottom: 10px;
  }

  .footer-wrap {
    display: flex;
    justify-content: space-between;
    position: absolute;
    width: 100%;
    height: 112px;
    bottom: 0%;
    background-color: #e3e2e2;

    transition: bottom 0.5s ease-in-out;
  }

  /* hotspot */
  .map-wrap {
    cursor: pointer;
    transition: top 0.3s ease-in-out, left 0.3s ease-in-out;
    z-index: 10;
  }

  /* button */
  .hotspot-btn {
    display: flex;
    flex-direction: column;
    position: absolute;
    height: 60px;
    background: linear-gradient(90deg, #fff, #fff);
    border-radius: 12px;
    color: #000;
    max-width: 300px;
    min-width: 100px;
    top: 100%;
    box-shadow: 2px 2px 3px #00000030;
    transition: all 0.2s ease-in-out;
  }

  .hotspot-btn::before {
    content: "";
    border-color: #fff;
    position: absolute;
    width: 98%;
    height: 98%;
    border-radius: 12px;
    border: 1px solid #fff;
    background-color: transparent;
    opacity: 1;
    transition: all 0.3s ease;
  }

  .hotspot-title,
  .hotspot-date {
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 700;
  }

  .hotspot-title {
    border: 5px solid #fff;
    height: 45%;
    padding: 0 10px;
    border-radius: 17px;
    background: linear-gradient(90deg, rgba(45, 173, 228, 1), rgba(33, 56, 114, 1));
    color: #fff;
    white-space: nowrap;
  }

  .hotspot-date {
    height: 55%;
  }

  .area-us-map-wrap .hotspot-btn {
    left: 60%;
  }

  .area-korea-map-wrap .hotspot-btn {
    top: 80%;
    left: -30%;
  }

  .area-asia-map-wrap .hotspot-btn {
    top: 80%;
  }


  /* hover */
  .map-wrap.hover .hotspot-btn::before {
    opacity: 0;
    transform: scale(1.7, 1.2);
  }

  /* footer */
  .footer-wrap {
    padding: 3px 0 0 20px;
  }

  .title {
    font-size: 17px;
    font-weight: 700;
  }

  .sponsor-item {
    display: inline-block;
    cursor: pointer;
    width: 140px;
  }

  /* footer button */
  button {
    border: none;
    padding: 0;
  }

  .footer-drawer {
    visibility: hidden;
    position: relative;
    top: -112px;
    left: 50%;
    display: flex;
    align-items: center;
    justify-content: space-around;
    width: 30px;
    height: 20px;
    background-color: #e3e2e2;

    transform: translate(-50%, -100%);
    transition: top 0.5s ease-in-out;
  }

  .footer-drawer .fas.fa-chevron-up {
    transition: transform 0.2s ease;
  }

  @media screen and (max-width:1315px) {
    .desc {
      font-size: 13px;
    }

    .hotspot-btn {
      min-width: 86px;
      height: 50px;
    }

    .hotspot-title,
    .hotspot-date {
      font-size: 10px
    }
  }

  /* footer media query */
  @media screen and (max-height:700px) {
    .footer-drawer {
      visibility: visible;
      top: 0px;
    }

    .footer-drawer.up {
      top: -112px;
    }

    .footer-drawer.up .fas.fa-chevron-up {
      transform: rotate(180deg);
    }

    .footer-wrap {
      bottom: -112px;
    }

    .footer-wrap.up {
      bottom: 0px;
    }
  }


  /* bottom line */
  .sponsor-wrap {
    display: flex;
    flex-direction: column;
  }

  .footer-desc-wrap {
    display: flex;
  }

  .footer-desc-wrap h2 {
    margin: 0 auto;
    font-size: 2vw;
  }

  .footer-desc-wrap p {
    font-size: 0.8vw;

  }

  .footer-desc-wrap h5 {
    margin: 0 auto 0.2vw auto;
    font-size: 0.9vw;
  }

  .list {
    display: inline-block;
    margin: 1vw;
    width: 10vw;
    height: 10vh;
  }

  /* temporarily disable */
  .area-korea,
  .area-japan,
  .area-asia,
  .area-korea-map-wrap,
  .area-japan-map-wrap,
  .area-asia-map-wrap {
    cursor: default;
  }
</style>

<script>
  var class_name = null,
    coor = null,
    coorA = "",
    left = 0,
    top = 0,
    width = 0,
    height = 0;

  var left_coor = [],
    top_coor = [],
    widthA = [],
    heightA = [];

  function setSize() {
    var i = 0;
    jQuery("area").each(function () {
      var class_name = jQuery(this).attr("class");
      var href = jQuery(this).attr("href");
      var txt = jQuery(this).data("name");
      var coor = jQuery(this).attr("coords");
      var coorA = coor.split(",");

      left_coor[i] = parseInt(coorA[0]);
      top_coor[i] = parseInt(coorA[1]);
      widthA[i] = parseInt(coorA[2] - coorA[0]);
      heightA[i] = parseInt(coorA[3] - coorA[1]);
      i = i + 1;
    });
    var j = 0;
    jQuery(".map-wrap").each(function () {
      jQuery(this).css({
        "left": left_coor[j] + "px",
        "top": top_coor[j] + "px"
      });
      jQuery(this).width(widthA[j] + "px");
      jQuery(this).height(heightA[j] + "px");
      j = j + 1;
    });
  }

  function generateButton(selector, title, date, url) {
    var $btn = jQuery(`
    <div class="hotspot-btn" data-url="${url}">
      <div class="hotspot-title">
        <span class="hotspot-span">
          ${title}
        </span>
      </div>
      <div class="hotspot-date">
        <span class="hotspot-span">
          ${date}
        </span>
      </div>
      <div class="hotspot-effect"></div>
    </div>
    `);

    $btn.appendTo(jQuery(`.area-${selector}-map-wrap`));
  }

  function generateButtons() {
    generateButton("europe", "NSF Europe", "Sep 15-17",
      "https://www.nanoscientificforum.com/");
    generateButton("china", "NSS China", "Aug 18",
      "https://www.parksystems.cn/events/meetings-exhibits/1975-2021-nanoscientific-symposium-china-program-nssc-2021");
    generateButton("korea", "NSS Korea", "Nov 25",
      "#");
    // "https://kr.nanoscientific.org");
    generateButton("us", "NSS US", "TBD",
      "https://us.nanoscientific.org");
    generateButton("japan", "NSS Japan", "Nov 22",
      "#");
    // "https://jp.nanoscientific.org");
    generateButton("latam", "NSS LatAm", "Oct 14-15",
      "https://latam.nanoscientific.org");
    generateButton("asia", "NSS Asia", "Oct 28",
      "#");
    // "https://asia.nanoscientific.org");
  }

  function registerEvent() {
    jQuery(".map-wrap").each(function () {
      var $this = this;
      // div hover
      jQuery($this).on("mouseover", function () {
        jQuery($this).addClass("hover");
      });
      jQuery($this).on("mouseout", function () {
        jQuery($this).removeClass("hover");
      });
      // div click
      jQuery($this).on("click", function () {
        window.open(this.querySelector(".hotspot-btn").getAttribute("data-url"));
      });
    });
    // footer button
    jQuery(".footer-drawer").on("click", function () {
      this.classList.toggle("up");
      jQuery(".footer-wrap").toggleClass("up");
    });
    // temp disable
    jQuery(".area-korea-map-wrap").off("mouseover");
    jQuery(".area-asia-map-wrap").off("mouseover");
    jQuery(".area-japan-map-wrap").off("mouseover");
    jQuery(".area-korea-map-wrap").off("click");
    jQuery(".area-asia-map-wrap").off("click");
    jQuery(".area-japan-map-wrap").off("click");
  }

  function startMapping() {
    var timer = null;

    jQuery(window).resize(function () {
      clearTimeout(timer);

      timer = setTimeout(function () {
        setSize();
      }, 200);
    });
  }

  function init() {
    jQuery("area").each(function () {
      $this = this;
      class_name = jQuery($this).attr("class");
      coor = jQuery($this).attr("coords");
      coorA = coor.split(",");
      left = parseInt(coorA[0]);
      top = parseInt(coorA[1]);
      width = parseInt(coorA[2] - coorA[0]);
      height = parseInt(coorA[3] - coorA[1]);

      var $div = jQuery(
        `<div class="${class_name}-map-wrap map-wrap"></div>`
      );

      $div.css({
        "position": "absolute",
        "left": left + "px",
        "top": top + "px"
      });
      $div.width(width + "px");
      $div.height(height + "px");

      $div.appendTo("#image-map");
    });

    generateButtons();
    registerEvent();
  }

  init();
  startMapping();
</script>