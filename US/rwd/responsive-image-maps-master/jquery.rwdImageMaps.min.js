var prev_width=jQuery("body").width(),prev_height=jQuery("body").height();const w_wgt=1.7778,h_wgt=.5625,offset_err=15;!function(t){t.fn.rwdImageMaps=function(){var e=this;return t(window).resize(function(){e.each(function(){if(void 0!==t(this).attr("usemap")){var e=this,r=t(e);t("<img />").on("load",function(){var a=t("body").width(),n=t("body").height(),i=r.attr("width"),s=r.attr("height"),h=(e.naturalWidth,e.naturalHeight,e.width/e.height>e.naturalWidth/e.naturalHeight);if(!i||!s){var p=new Image;p.src=r.attr("src"),i||(i=p.width),s||(s=p.height)}var d=r.width()/100,I=r.height()/100,o=r.attr("usemap").replace("#",""),g="coords",w=a-prev_width,c=n-prev_height;t('map[name="'+o+'"]').find("area").each(function(){var e=t(this);e.data(g)||e.data(g,e.attr(g));for(var r=e.attr(g).split(","),p=new Array(r.length),o=e.data(g).split(","),f=t(`.${e[0].className}-map-wrap`),u=(2*f.offset().left+f.width())/2,l=(2*f.offset().top+f.height())/2,v=0;v<p.length;++v)0===w&&0===c?p[v]=v%2==0?parseInt(o[v]/i*100*d):parseInt(o[v]/s*100*I):h?0===c?v%2==0?p[v]=parseInt(o[v]/i*100*d):l>n/2+15?p[v]=parseInt(r[v])+parseInt(.5625*(parseInt(o[v-1]/i*100*d)-parseInt(r[v-1]))):l<n/2-15&&(p[v]=parseInt(r[v])-parseInt(.5625*(parseInt(o[v-1]/i*100*d)-parseInt(r[v-1])))):p[v]=0===w?v%2==0?parseInt(r[v]):parseInt(r[v])+c/2:v%2==0?parseInt(o[v]/i*100*d):parseInt(o[v]/s*100*I):h||(0===w?v%2==0?u>a/2+15?p[v]=parseInt(r[v])+parseInt(w_wgt*(parseInt(o[v+1]/s*100*I)-parseInt(r[v+1]))):u<a/2-15&&(p[v]=parseInt(r[v])-parseInt(w_wgt*(parseInt(o[v+1]/s*100*I)-parseInt(r[v+1])))):p[v]=parseInt(o[v]/s*100*I):p[v]=0===c?v%2==0?parseInt(r[v])+w/2:parseInt(r[v]):v%2==0?parseInt(o[v]/i*100*d):parseInt(o[v]/s*100*I));e.attr(g,p.toString())}),prev_width=document.querySelector("body").clientWidth,prev_height=document.querySelector("body").clientHeight}).attr("src",r.attr("src"))}})}).trigger("resize"),this}}(jQuery);