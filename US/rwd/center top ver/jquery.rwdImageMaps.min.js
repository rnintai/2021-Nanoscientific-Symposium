var prev_width=jQuery("body").width(),prev_height=jQuery("body").height();const h_wgt=.7,offset_err=10;!function(t){t.fn.rwdImageMaps=function(){var e=this;return t(window).resize(function(){e.each(function(){if(void 0!==t(this).attr("usemap")){var e=this,r=t(e);t("<img />").on("load",function(){var a=t("body").width(),i=t("body").height(),n=r.attr("width"),h=r.attr("height"),s=prev_width/prev_height>e.naturalWidth/e.naturalHeight,p=e.width/e.height>e.naturalWidth/e.naturalHeight;if(!n||!h){var d=new Image;d.src=r.attr("src"),n||(n=d.width),h||(h=d.height)}var o=r.width()/100,c=r.height()/100,g=r.attr("usemap").replace("#",""),I="coords",u=a-prev_width,f=i-prev_height;t('map[name="'+g+'"]').each(function(){t(this).find("area").each(function(){var e=t(this);e.data(I)||e.data(I,e.attr(I));var r=e.attr(I).split(","),i=new Array(r.length),d=e.data(I).split(","),g=t(`.${e[0].className}-map-wrap`),v=(2*g.offset().left+g.width())/2;g.offset().top,g.height(),s!==p&&e.attr(I,r);for(var w=0;w<i.length;++w)i[w]=0===u&&0===f?w%2==0?parseInt(d[w]/n*100*o):parseInt(d[w]/h*100*c):0!==f&&0===u?p?w%2==0?parseInt(d[w]/n*100*o):parseInt(r[w]):w%2==0?v>a/2+10?parseInt(r[w])+parseInt(.7*(parseInt(d[w+1]/h*100*c)-parseInt(r[w+1]))):v<a/2-10?parseInt(r[w])-parseInt(.7*(parseInt(d[w+1]/h*100*c)-parseInt(r[w+1]))):parseInt(r[w]):parseInt(d[w]/h*100*c):0!==u&&0===f?p?w%2==0?parseInt(d[w]/n*100*o):parseInt(parseInt(d[w]/n*100*o)+u):w%2==0?parseInt(r[w])+u/2:parseInt(r[w]):w%2==0?parseInt(d[w]/n*100*o):parseInt(d[w]/h*100*c);e.attr(I,i.toString())})}),prev_width=document.querySelector("body").clientWidth,prev_height=document.querySelector("body").clientHeight}).attr("src",r.attr("src"))}})}).trigger("resize"),this}}(jQuery);